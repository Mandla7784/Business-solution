<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Donate to support our development efforts"
    />
    <title>Donate - Penta Solution</title>

    <!-- Stylesheets -->
    <link rel="stylesheet" href="../css/styles.css" />
    <link rel="stylesheet" href="../css/smallScreens.css" />
    <link rel="stylesheet" href="../css/NavbarToggling.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
      integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <style>
      html {
        scroll-behavior: smooth;
      }
      .container {
        width: 100%;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 4em;
        padding: 40px 0;
      }
    </style>
  </head>
  <body>
    <nav style="top: 0; position: sticky; z-index: 999">
      <div class="nav-container">
        <h2 style="color: rgb(24, 163, 243); font-weight: bold" class="logo">
          Penta-<span style="color: hsl(328, 100%, 50%)">Solution</span>
        </h2>
        <div class="menuItems">
          <ul>
            <a href="/index.html">Home</a>
            <a href="/index.html#products">Products</a>
            <a href="/index.html#Pricing">Pricing</a>
            <a href="/index.html#solutions">Solutions</a>
            <a href="/index.html#enterprise">Enterprise</a>
          </ul>
          <div class="account">
            <a class="login" href="/GetIntouch.html">Log in</a>
            <a class="free" href="./News-letter-form.html">Try free</a>
            <a class="btn-donate" href="/payment.html">Donate</a>
          </div>
        </div>
      </div>
      <i id="menuIcon" class="fa-solid fa-bars"></i>
    </nav>

    <main>
      <div class="container">
        <h1 style="margin-top: 80px">PayPal for Donations</h1>
        <div id="paypal-button-container"></div>
      </div>
    </main>

    <!-- Config must load before scripts that use it -->
    <script src="../config/config.js"></script>
    <script src="../src/security-init.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script>
      // Initialize PayPal with config
      const paypalClientId =
        window.APP_CONFIG?.paypal?.clientId ||
        "AVJp2CuGgypueHwV-1_NemjbVdfkUc2Puq_UOEah7OdcqZOohz05nQGzrOgE-PwQoBUtdHsKNmWVhrZb";
      const paypalEnvironment =
        window.APP_CONFIG?.paypal?.environment || "sandbox";

      const script = document.createElement("script");
      script.src = `https://${
        paypalEnvironment === "production" ? "www" : "sandbox"
      }.paypal.com/sdk/js?client-id=${paypalClientId}&components=buttons`;
      script.onload = function () {
        if (typeof paypal !== "undefined") {
          paypal
            .Buttons({
              createOrder: function (data, actions) {
                return actions.order.create({
                  purchase_units: [
                    {
                      amount: {
                        value: "10.00",
                        currency_code: "ZAR",
                      },
                    },
                  ],
                });
              },
              onApprove: function (data, actions) {
                return actions.order.capture().then(function (details) {
                  alert(
                    "Transaction completed by " + details.payer.name.given_name
                  );
                });
              },
            })
            .render("#paypal-button-container");
        }
      };
      document.head.appendChild(script);
    </script>
    <script src="../src/index.js"></script>
  </body>
</html>
