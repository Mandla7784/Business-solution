;/*FB_PKG_DELIM*/

__d("StoriesTrayTileContentV2.react",["ix","CometBackgroundImage.react","CometColumn.react","CometColumnItem.react","CometRelay","FBVRLinearGradient","FDSIcon.react","FDSText.react","FDSTextPairing.react","StoriesEnums","StoriesRatioBox.react","XPlatReactEnvironment","cr:770","fbicon","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=200*9/16,l=50,m="linear-gradient(180deg,\n    rgba(0, 0, 0, 0) 0%,\n    rgba(0, 0, 0, 0.0029348165) 11.79%,\n    rgba(0, 0, 0, 0.01134518) 21.38%,\n    rgba(0, 0, 0, 0.02464) 29.12%,\n    rgba(0, 0, 0, 0.0422282) 35.34%,\n    rgba(0, 0, 0, 0.06351835) 40.37%,\n    rgba(0, 0, 0, 0.08792) 44.56%,\n    rgba(0, 0, 0, 0.11484165) 48.24%,\n    rgba(0, 0, 0, 0.1436918) 51.76%,\n    rgba(0, 0, 0, 0.17388) 55.44%,\n    rgba(0, 0, 0, 0.20481475) 59.63%,\n    rgba(0, 0, 0, 0.23590525) 64.66%,\n    rgba(0, 0, 0, 0.26656) 70.88%,\n    rgba(0, 0, 0, 0.2961882) 78.62%,\n    rgba(0, 0, 0, 0.32419835) 88.21%,\n    rgba(0, 0, 0, 0.35) 100%\n    )",n={background:function(a){return[{backgroundColor:a==null?null:"xr5ldyu",transform:"x3oybdh",transformOrigin:"x1g0ag68",transitionDuration:"xx6bhzk",transitionProperty:"x11xpdln",transitionTimingFunction:"xcj1dhv",$$css:!0},{"--backgroundColor":a!=null?a:void 0}]},backgroundFocused:{transform:"x1nhozj7",$$css:!0},coverImageFilter:{backgroundColor:"x1sag07j",$$css:!0},full:{bottom:"x1ey2m1c",boxSizing:"x9f619",end:"xds687c",start:"x17qophe",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",$$css:!0},gradientContainer:{aspectRatio:"x1vf6whn",backgroundImage:"x123ep6o",$$css:!0},gradientContainerNative:{height:"x10wjd1d",$$css:!0},icon:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",paddingBottom:"xsag5q8",paddingStart:"xurb0ha",textAlign:"x1yc453h",width:"xh8yej3",$$css:!0},iconContainer:{display:"x78zum5",$$css:!0},overlayContainer:{height:"x5yr21d",width:"xh8yej3",$$css:!0},pointerEventsNone:{pointerEvents:"x47corl",$$css:!0},text:{paddingStart:"x1e558r4",$$css:!0},textIconShadowStyle:{filter:"xnt7nc8",$$css:!0},textWrapper:{boxSizing:"x9f619",textAlign:"x1yc453h",width:"xh8yej3",$$css:!0},title:function(a){return[{paddingTop:a==null?null:"x2huve6",paddingEnd:a==null?null:"xphm37l",paddingBottom:a==null?null:"x12w1swl",paddingStart:a==null?null:"x1sjcdi1",$$css:!0},{"--padding":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]},titleWithRightPadding:function(a){return[{paddingRight:a==null?null:"x1hb41fa",paddingStart:null,paddingEnd:null,$$css:!0},{"--paddingRight":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]},titleWithTopPadding:{paddingTop:"xexx8yu",$$css:!0},titleWrapper:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",textAlign:"x1yc453h",width:"xh8yej3",$$css:!0},warningScreenContainer:{zIndex:"x1ja2u2z",$$css:!0}};function a(a){var e=a.aspectRatioReal,f=a.avatarInteractable,g=a.backgroundColor,i=a.bucketType,o=a.bucketUrl,p=a.coverImage,q=a.coverImageNullElement,r=a.isSmall,s=a.likeCount,t=a.metaText,u=a.numLines,v=a.playCount,w=a.pressableState,x=a.text,y=a.tileAvatar,z=a.tilePadding,A=a.title,B=a.videoAutoplayWrapper;a=a.warningScreen;var C=A!=null,D=x!=null&&A==null,E=v!=null,F=s!=null&&s!=="0",G=!C&&!D&&!E&&!F;w=(w=(w==null?void 0:w.hovered)||(w==null?void 0:w.focused)&&(w==null?void 0:w.focusVisible))!=null?w:!1;var H=null;Object.values(d("StoriesEnums").CONVERSATION_STORY_BUCKET_TYPES).includes(i)&&b("cr:770")?H=j.jsx(d("react-strict-dom").html.div,{children:j.jsx(b("cr:770"),{bucketType:i})}):H=j.jsx(d("react-strict-dom").html.div,{style:n.textIconShadowStyle,children:!f&&y!=null?y:null});return j.jsxs(c("StoriesRatioBox.react"),{height:1,width:(i=e)!=null?i:1,children:[p!=null?j.jsxs(d("react-strict-dom").html.div,{style:[n.background(g),w&&n.backgroundFocused,n.full],children:[B!=null?B:j.jsx(c("CometBackgroundImage.react"),{height:"100%",src:p}),a!=null&&j.jsx(d("react-strict-dom").html.div,{style:[n.full,n.warningScreenContainer],children:j.jsx(d("CometRelay").MatchContainer,{match:a,props:{alwaysShowCoverComponent:!0,alwaysShowDetails:!1,alwaysUseSmallLayout:!0,data:a,mediaUri:(f=p)!=null?f:"",surface:"story_tray",url:o}})})]}):q,j.jsxs(c("CometColumn.react"),{paddingHorizontal:0,paddingVertical:0,xstyle:n.overlayContainer,children:[j.jsx(c("CometColumnItem.react"),{expanding:!0,children:H}),j.jsx(c("CometColumnItem.react"),{children:d("XPlatReactEnvironment").isWeb()?j.jsx(d("react-strict-dom").html.div,{style:G?null:n.gradientContainer}):G?null:j.jsx(d("react-strict-dom").html.div,{style:n.gradientContainerNative,children:j.jsx(c("FBVRLinearGradient"),{config:m,height:l,width:k})})}),j.jsx(c("CometColumnItem.react"),{children:j.jsxs(d("react-strict-dom").html.div,{style:G?null:n.coverImageFilter,children:[C?j.jsx(d("react-strict-dom").html.div,{style:[n.titleWrapper,n.pointerEventsNone,n.textIconShadowStyle,z&&n.title(z.padding),(z==null?void 0:z.paddingRight)!=null&&n.titleWithRightPadding(z.paddingRight),n.titleWithTopPadding],children:j.jsx(c("FDSTextPairing.react"),{headline:A,headlineColor:"primaryOnMedia",level:4,meta:x,metaColor:"primaryOnMedia"})}):null,D?j.jsx(d("react-strict-dom").html.div,{style:[n.textWrapper,n.pointerEventsNone,n.textIconShadowStyle,z&&n.title(z.padding),(z==null?void 0:z.paddingRight)!=null&&n.titleWithRightPadding(z.paddingRight),n.titleWithTopPadding],children:j.jsx(c("FDSTextPairing.react"),{body:j.jsx(c("FDSText.react"),{color:"primaryOnMedia",numberOfLines:u,testid:void 0,type:r?"bodyLink4":"bodyLink3",children:x}),level:4,meta:t,metaColor:"secondaryOnMedia",metaLineLimit:1,metaLocation:"above"})}):null,E?j.jsxs(d("react-strict-dom").html.div,{style:n.icon,children:[j.jsx(d("react-strict-dom").html.div,{style:[n.textIconShadowStyle,n.iconContainer],children:j.jsx(c("FDSIcon.react"),{color:"white",icon:d("fbicon")._(h("484861"),12)})}),j.jsx(d("react-strict-dom").html.div,{style:[n.text,n.textIconShadowStyle],children:j.jsx(c("FDSText.react"),{color:"primaryOnMedia",numberOfLines:1,type:"bodyLink4",children:v})})]}):null,F?j.jsxs(d("react-strict-dom").html.div,{style:n.icon,children:[j.jsx(d("react-strict-dom").html.div,{style:[n.textIconShadowStyle,n.iconContainer],children:j.jsx(c("FDSIcon.react"),{color:"white",icon:d("fbicon")._(h("509920"),12)})}),j.jsx(d("react-strict-dom").html.div,{style:[n.text,n.textIconShadowStyle],children:j.jsx(c("FDSText.react"),{color:"primaryOnMedia",numberOfLines:1,type:"bodyLink4",children:s})})]}):null]})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StoriesTrayTileView_LWRAnimations.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoriesTrayTileView_LWRAnimations",selections:[{args:null,kind:"FragmentSpread",name:"StoriesTrayTileReactionIconWrapper_LWRAnimations"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("StoriesTrayTileView_warningScreen.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoriesTrayTileView_warningScreen",selections:[{args:null,documentName:"StoriesTrayTileView_warningScreen",fragmentName:"CometWarningScreenOverlay_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"OverlayWarningScreenViewModel",abstractKey:null};e.exports=a}),null);
__d("cometValidateAsElementRect",[],(function(a,b,c,d,e,f){"use strict";function a(a){return typeof a==="object"?{bottom:typeof (a==null?void 0:a.bottom)==="number"?a.bottom:0,height:typeof (a==null?void 0:a.height)==="number"?a.height:0,left:typeof (a==null?void 0:a.left)==="number"?a.left:0,right:typeof (a==null?void 0:a.right)==="number"?a.right:0,top:typeof (a==null?void 0:a.top)==="number"?a.top:0,width:typeof (a==null?void 0:a.width)==="number"?a.width:0}:{bottom:0,height:0,left:0,right:0,top:0,width:0}}f["default"]=a}),66);
__d("StoriesTrayTileView.react",["CometPressable.react","CometRelay","StoriesConstants","StoriesGating","StoriesTrayTileView_LWRAnimations.graphql","StoriesTrayTileView_warningScreen.graphql","TopOfFeedLoggingContext","cometValidateAsElementRect","cr:5063","cr:6579","react","requireDeferred","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));e=k;var m=e.useContext,n=e.useRef,o=c("requireDeferred")("ODS").__setRef("StoriesTrayTileView.react"),p=12,q=8,r=46,s={avatarWrapper:{start:"x17qophe",position:"x10l6tqk",top:"x13vifvy",$$css:!0},boxShadow:{boxShadow:"x2pq9lr",$$css:!0},button:{appearance:"xjyslct",backgroundColor:"xjbqb8w",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",boxSizing:"x9f619",display:"x1lliihq",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",textAlign:"x16tdsg8",width:"xh8yej3",zIndex:"x1ja2u2z",":active_transform":"xk4oym4",$$css:!0},buttonFocused:{filter:"x14xfefy",$$css:!0},emptyCoverImageFilter:{backgroundImage:"xxj740w",$$css:!0},full:{bottom:"x1ey2m1c",boxSizing:"x9f619",end:"xds687c",start:"x17qophe",position:"x10l6tqk",top:"x13vifvy",$$css:!0},light:{opacity:"xbyyjgo",$$css:!0},pointerEventsNone:{pointerEvents:"x47corl",$$css:!0},tile:{backgroundColor:"x1qhmfi1",borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},t=function(a){var b=a.showOutline?l.jsx("div",{className:"x1a2cdl4 xnhgr82 x1qt0ttw xgk8upj x1ey2m1c xlg9a9y x9f619 xds687c x17qophe x47corl x10l6tqk x13vifvy"}):null;return l.jsxs("div",{className:"x1n2onr6",children:[a.children,b]})};function a(a){var e=a.animations,f=a.avatar,g=a.avatarInteractable,k=g===void 0?!1:g,u=a.backgroundColor,v=a.bucketType,w=a.bucketUrl;g=a.canViewerReply;g=g===void 0?!1:g;var x=a.coverImage,y=a.disabled,z=a.disablePreloadOnMouseHover,A=a.disablePreloadOnRender;a.gender;a.hasNew;var B=a.hasReactionIcon;B=B===void 0?!1:B;var C=a.isUploading;C=C===void 0?!1:C;var D=a.label,E=a.metaText,F=a.onPress,G=a.onPressIn,H=a.passthroughProps,I=a.storyId,J=a.text,K=a.warningScreenNode,L=a.aspectRatio,M=L===void 0?d("StoriesConstants").DEFAULT_ASPECT_RATIO:L;L=a.numLines;var N=a.showOutline;N=N===void 0?!1:N;var O=a.showShadow,P=O===void 0?!0:O;O=a.small;O=O===void 0?!1:O;a=a.theme;a=a===void 0?"dark":a;var Q=(L=L)!=null?L:2,R=d("CometRelay").useFragment(h!==void 0?h:h=b("StoriesTrayTileView_warningScreen.graphql"),K);L=d("StoriesGating").shouldUseCompartmentStoriesTiles();K=d("CometRelay").useFragment(i!==void 0?i:i=b("StoriesTrayTileView_LWRAnimations.graphql"),e);e=m(c("TopOfFeedLoggingContext"));e=e.tofuSessionID;var S={padding:O?q:p},T=B?{padding:O?q:p,paddingRight:r}:S,U=f!=null?l.jsx("div",{className:(j||(j=c("stylex")))(s.avatarWrapper,!k&&s.pointerEventsNone),style:S,children:f}):null,V=n(null),W=l.jsx("div",{className:(j||(j=c("stylex")))(C&&s.emptyCoverImageFilter,s.full)});O=b("cr:6579")!=null&&g?l.jsx("div",{className:"x1ey2m1c xds687c x1y1aw1k x1sxyh0 xwib8y2 xurb0ha x10l6tqk",children:l.jsx(b("cr:6579"),{animations:K,storyId:I})}):null;var X=function(a){return l.jsx(b("cr:5063"),{aspectRatioReal:M,avatarInteractable:k,backgroundColor:u,bucketType:v,bucketUrl:w,coverImage:x,coverImageNullElement:W,isSmall:!0,metaText:E,numLines:Q,pressableState:a,text:J,tileAvatar:U,tilePadding:T,warningScreen:R})};if(w!=null||F!=null){S=babelHelpers["extends"]({},H,{getTilePosition:function(){var a;return c("cometValidateAsElementRect")((a=V.current)==null?void 0:a.getBoundingClientRect())},tofuTraySessionID:e});var Y={passthroughProps:S,prefetchQueriesOnHover:z!==!0,preloadCodeOnMount:A!==!0,traceParams:{navigation_source:"stories_tray_tile"},url:w},Z=function(a){o.onReady(function(a){a.bumpEntityKey(4329,"fb_stories_web","stories_tray_pog_click",1)}),F&&F(a)};f=function(a,b){a===void 0&&(a=null);return l.jsx(c("CometPressable.react"),{disabled:y,display:"inline",label:D!=null?D:void 0,linkProps:Y,onPress:function(a){Z(a),b&&b()},onPressIn:G,overlayDisabled:!0,ref:a,suppressHydrationWarning:!0,xstyle:function(a){var b=a.focused,c=a.focusVisible;a=a.hovered;return[s.tile,s.button,(a||b&&c)&&s.buttonFocused,P&&s.boxShadow]},children:X})};return l.jsx("div",{ref:V,children:l.jsxs(t,{showOutline:L===!0?!0:N,children:[f(),k?U:null,B?O:null]})})}else return l.jsx(t,{showOutline:L===!0?!0:N,children:l.jsxs("div",{className:(j||(j=c("stylex")))(s.tile,P&&s.boxShadow,a==="light"&&s.light),children:[X(),k?U:null,B?O:null]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StoriesTrayUtils",["StoriesLoggingConstants","XCometStoriesControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.bucketID,d=a.cardID,e=a.bucketCount,f=a.source;f=f===void 0?c("StoriesLoggingConstants").ACTION_SOURCE.TRAY:f;a=a.viewSingle;a=a!=null?a:f===c("StoriesLoggingConstants").ACTION_SOURCE.FEED_TAB_STORIES_SURFACE;var g=null;a?g={bucket_count:e,bucket_id:b,card_id:d===null?void 0:d,source:f,view_single:!0}:g={bucket_count:e,bucket_id:b,card_id:d===null?void 0:d,source:f};return c("XCometStoriesControllerRouteBuilder").buildURL(g)}g.getBucketURL=a}),98);