;/*FB_PKG_DELIM*/

__d("CometContactPresenceUpdaterWithANScore_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometContactPresenceUpdaterWithANScore_viewer",selections:[{alias:null,args:[{kind:"Literal",name:"mnet_rank_type",value:["INBOX_ACTIVE_NOW"]}],concreteType:"MNetRankConnection",kind:"LinkedField",name:"mnet_ranks",plural:!1,selections:[{alias:null,args:null,concreteType:"MNetRankEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MNetRank",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"MNetItemConnection",kind:"LinkedField",name:"items",plural:!1,selections:[{alias:null,args:null,concreteType:"MNetItemEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"rank_score",storageKey:null}],type:"MNetContactItem",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'mnet_ranks(mnet_rank_type:["INBOX_ACTIVE_NOW"])'}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometContactPresenceUtils_ContactProfilesQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8907654129270550"}),null);
__d("CometContactPresenceUtils_ContactProfilesQuery.graphql",["CometContactPresenceUtils_ContactProfilesQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"ids"},c={defaultValue:null,kind:"LocalArgument",name:"navigation_fix_gk"},d={defaultValue:null,kind:"LocalArgument",name:"scale"},e=[{kind:"Variable",name:"ids",variableName:"ids"}],f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},h={alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},i=[{alias:null,args:null,kind:"ScalarField",name:"is_secure_thread",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_capabilities2_str",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_od_cutover_eligible",storageKey:null}];return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"CometContactPresenceUtils_ContactProfilesQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"chat_sidebar_contact_nodes",plural:!0,selections:[f,g,h,{kind:"InlineFragment",selections:[{condition:"navigation_fix_gk",kind:"Condition",passingValue:!0,selections:[{kind:"InlineDataFragmentSpread",name:"useUserThreadNavigationData_inline_user",selections:i,args:null,argumentDefinitions:[]}]}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,d,c],kind:"Operation",name:"CometContactPresenceUtils_ContactProfilesQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"chat_sidebar_contact_nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f,{kind:"TypeDiscriminator",abstractKey:"__isProfile"},g,h,{kind:"InlineFragment",selections:[{condition:"navigation_fix_gk",kind:"Condition",passingValue:!0,selections:i}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometContactPresenceUtils_ContactProfilesQuery_facebookRelayOperation"),metadata:{},name:"CometContactPresenceUtils_ContactProfilesQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometContactPresenceUtils",["CometContactPresenceUtils_ContactProfilesQuery.graphql","CometHomeContactsConfig","CometRelay","CurrentUser","PresenceCommonPresenceCommonTypes","Promise","WebPixelRatio","asyncToGeneratorRuntime","chunkArray","gkx","recoverableViolation","useUserThreadNavigationData"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h!==void 0?h:h=b("CometContactPresenceUtils_ContactProfilesQuery.graphql"),k={height:36,scale:d("WebPixelRatio").get(),width:36},l=500;function m(a,e){a=c("chunkArray")(Array.from(a),l);a=a.map(function(a){return d("CometRelay").fetchQuery(e,j,{ids:a,navigation_fix_gk:c("gkx")("5764"),scale:d("WebPixelRatio").get()},{fetchPolicy:"store-or-network"}).toPromise()});return(i||(i=b("Promise"))).all(a)}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=new Map(),f=new Set(a);b.commitUpdate(function(a){for(var b of f){var g=a.get(b),h=c("gkx")("5764")&&!d("useUserThreadNavigationData").contactRecordHasNavigationData(g);if((g==null?void 0:g.getType())!=="User"||(g==null?void 0:g.getValue("name"))==null||h)continue;h=g.getLinkedRecord("profile_picture",k);(h==null?void 0:h.getValue("uri"))!=null&&(e.set(b,g),f["delete"](b))}});var g=[];a=(yield m(f,b));a.forEach(function(a){a=(a==null?void 0:(a=a.viewer)==null?void 0:a.chat_sidebar_contact_nodes)||[];a.forEach(function(a){a!=null&&g.push(a)})});b.commitUpdate(function(a){for(var b of g){var c=p(b,a);c!=null&&b.id!=null&&e.set(b.id,c)}});return e});return o.apply(this,arguments)}function p(a,b){var e=a==null?void 0:a.id;if(e==null)return;var f=b.get(e);f==null&&(f=b.create(e,"User"));b=a==null?void 0:a.name;if(b==null)return;f.setValue(b,"name");if(c("gkx")("5764")){e=d("CometRelay").readInlineData(d("useUserThreadNavigationData").USER_THREAD_DATA_INLINE_FRAGMENT,a);d("useUserThreadNavigationData").updateWithInlineData(f,e)}b=f.getOrCreateLinkedRecord("profile_picture","Image",k);e=a==null?void 0:(e=a.profile_picture)==null?void 0:e.uri;if(e==null)return;b.setValue(a==null?void 0:(e=a.profile_picture)==null?void 0:e.uri,"uri");f.setLinkedRecord(b,"profile_picture",k);return f}function q(a,b){a=a.getRoot().getLinkedRecord("viewer");if(a==null){c("recoverableViolation")("Viewer should not be null here, something has gone horribly wrong","messenger_presence_web");return}a.setLinkedRecords(b,"chat_sidebar_contacts",{count:c("CometHomeContactsConfig").numContactsToFetch})}function r(a,b,c){for(b of b){var e=a.get(b);e==null&&(e=a.create(b,"User"));var f=!1,g=null,h=c.get(b);if(h!=null){var i=h.presenceStatus;f=i===d("PresenceCommonPresenceCommonTypes").PresenceStatus.Active;g=Number(h.lastActiveTimeSeconds);e.setValue(f?"ACTIVE":"IDLE","availability");e.setValue(g,"last_active_time")}}}function a(a,b,c){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=Array.from(e.entries()).sort(function(a,b){a[0];a=a[1];b[0];b=b[1];return b-a}).map(function(a){a=a[0];return a}),g=new Set(Array.from(b.values()).filter(function(a){var b=a.presenceStatus;a=a.userId;return c("CurrentUser").getID()!==a&&b===d("PresenceCommonPresenceCommonTypes").PresenceStatus.Active}).map(function(a){return a.userId})),h=f.filter(function(a){return g.has(a)}),i=Array.from(g.values()).filter(function(a){return!e.has(a)});f=f.filter(function(a){return!g.has(a)});var j=[].concat(h,i,f);a.commitUpdate(function(a){r(a,j,b)});h=c("CometHomeContactsConfig").numContactsToFetch+10;i=j.slice(0,h);var k=(yield n(new Set(i),a)),l=i.map(function(a){return k.get(a)}).filter(Boolean);a.commitUpdate(function(a){q(a,l)})});return s.apply(this,arguments)}function e(a,b,c){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e=Array.from(e.entries());e=new Map(e.sort(function(a,b){return b[1]-a[1]}));e=Array.from(e.keys());var f=new Set();f=new Set(Array.from(b.values()).filter(function(a){var b=a.presenceStatus;a=a.userId;return c("CurrentUser").getID()!==a&&b===d("PresenceCommonPresenceCommonTypes").PresenceStatus.Active}).map(function(a){return a.userId}));var g=new Set(),h=[];for(e of e){if(e==null||g.has(e))continue;g.add(e);h.push(e);f["delete"](e)}a.commitUpdate(function(a){for(var c of f){var d=a.get(c);if(d==null)continue;if((d==null?void 0:d.getValue("name"))!=null){d=d.getLinkedRecord("profile_picture",k);(d==null?void 0:d.getValue("uri"))!=null&&(h.push(c),f["delete"](c))}}h.push.apply(h,Array.from(f.values()));r(a,h,b)});var i=(yield n(new Set(h),a)),j=h.map(function(a){return i.get(a)}).filter(Boolean);a.commitUpdate(function(a){q(a,j)})});return t.apply(this,arguments)}g.updateRelayContactPresenceWithANScoreV2=a;g.updateRelayContactPresenceWithANScore=e}),98);
__d("CometContactPresenceUpdaterWithANScore.react",["CometContactPresenceUpdaterWithANScore_viewer.graphql","CometContactPresenceUtils","CometRelay","ODS","promiseDone","qex","react","usePresenceUnifiedClientContext","usePresenceUnifiedMapContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=i||d("react");var k=e.useEffect,l=e.useMemo;function m(a){var b=(a=a==null?void 0:(a=a.mnet_ranks)==null?void 0:(a=a.edges[0])==null?void 0:(a=a.node)==null?void 0:(a=a.items)==null?void 0:a.edges)!=null?a:null;b==null&&(j||(j=d("ODS"))).bumpEntityKey(3185,"mw_contact_list","an_ranking_graphql_empty");return l(function(){return b!=null?new Map(b.map(function(a){var b;return[(b=(b=a.node)==null?void 0:b.user_id)!=null?b:"",(a=(b=a.node)==null?void 0:b.rank_score)!=null?a:0]})):new Map()},[b])}function a(a){a=a.viewer$key;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometContactPresenceUpdaterWithANScore_viewer.graphql"),a);var e=d("usePresenceUnifiedClientContext").usePresenceUnifiedClientContext(),f=d("CometRelay").useRelayEnvironment(),g=d("usePresenceUnifiedMapContext").usePresenceUnifiedMapContext(),i=m(a);k(function(){var a;a=(a=c("qex")._("805"))!=null?a:!1;c("promiseDone")(a?d("CometContactPresenceUtils").updateRelayContactPresenceWithANScoreV2(f,g,i):d("CometContactPresenceUtils").updateRelayContactPresenceWithANScore(f,g,i))},[e,f,g,i]);return null}g["default"]=a}),98);
__d("CometHomeContactListItems_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"count"}],kind:"Fragment",metadata:null,name:"CometHomeContactListItems_viewer",selections:[{alias:null,args:[{kind:"Variable",name:"count",variableName:"count"}],concreteType:null,kind:"LinkedField",name:"chat_sidebar_contacts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null},{args:null,kind:"FragmentSpread",name:"MWChatContact_profile"}],storageKey:null},{fragment:{kind:"InlineFragment",selections:[{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"CometContactPresenceUpdaterWithANScore_viewer"}]}],type:"Viewer",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"an_rankings"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("XCometActiveContactsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/active/t/{thread_key}/",Object.freeze({}),["/messages/active/"],void 0);b=a;g["default"]=b}),98);
__d("MWChatContactImpl.react",["fbt","CometErrorBoundary.react","CometPlaceholder.react","CurrentEnvironment","JSResourceForInteraction","JSScheduler","LSContactListConversionAttributionStore","LSThreadAttributionStore","MAWChatVerifyCutover.react","MWInboxRouteBuilder","MWLSPreloadThreadForContact","MWXListCellStrict.react","MessengerClickImpressionEventsLoggerImpl","XCometActiveContactsControllerRouteBuilder","gkx","justknobx","react","useCometPreloader","useServerTime","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useCallback,m=b.useMemo,n=b.useState,o=c("JSResourceForInteraction")("MWV2ChatTab.react").__setRef("MWChatContactImpl.react");function a(a){var b=a.contactInfo,e=a.entryPoint,f=a.logsEnabled,g=a.openTabForUser,j=a.preventLocalNavigation;a=a.selected;var p=b.id,q=b.isOnline,r=b.lastActiveTime,s=b.name,t=b.position,u=b.preloadedNavigationData,v=b.profilePictureUrl,w=b.storyInfo;b=n();var x=b[0];b=b[1];var y=d("MWLSPreloadThreadForContact").usePreloaderForUser(),z=l(function(){y(p)},[p,y]),A=l(function(){c("justknobx")._("761")&&(i||(i=c("JSScheduler"))).scheduleSpeculativeCallback(function(){o.preload()})},[]);A=c("useCometPreloader")("button",A,z);var B=A.onHighIntentPreloader,C=A.onHoverInPreloader;z=A.onHoverOutPreloader;A=A.onPressInPreloader;var D=m(function(){return{id:p,isOnline:q,position:t,storyIds:w==null?void 0:w.storyIds,surface:{entry_point:"comet_home_sidebar",major_surface:"comet_home",minor_surface:"sidebar_one_on_one_chats"},targetType:"user"}},[p,q,t,w]),E=c("useVisibilityObserver")({onVisible:function(){f===!0&&d("MessengerClickImpressionEventsLoggerImpl").logImpressionEvent(D)}}),F=x!=null?x:p,G=l(function(){f===!0&&(d("MessengerClickImpressionEventsLoggerImpl").logClickEvent(D),d("LSContactListConversionAttributionStore").setAttribution(x,p,D)),g({preloadedNavigationData:u,userId:p})},[g,u,p,f,D,x]),H=l(function(){d("LSThreadAttributionStore").setSource(p,e)},[p,e]),I=l(function(a){C(a),B(!0)},[C,B]),J=c("useServerTime")(),K=1e3*60*60;J={addOn:q?{type:"availabilityBadge"}:r!=null&&Math.floor((J.valueOf()-new Date(r*1e3).getTime())/K)<=1?{border:"web-wash",time:r,type:"lastActiveTimeBadge"}:void 0,"aria-label":h._(/*BTDS*/"__JHASH__NuRFTx4-qdk__JHASH__"),linkProps:w==null?void 0:w.linkProps,shape:"circle",size:36,source:{uri:v},storyStatus:w==null?void 0:w.storyStatus,type:"profile-photo"};K=c("gkx")("23433");r=null;K?r=c("CurrentEnvironment").facebookdotcom?c("XCometActiveContactsControllerRouteBuilder").buildURL({thread_key:F}):"/active/t/"+F+"/":r=x!=null?d("MWInboxRouteBuilder").buildE2EEThreadURL({thread_key:x}):d("MWInboxRouteBuilder").buildURL({thread_key:F});return k.jsxs(k.Fragment,{children:[k.jsx(c("CometErrorBoundary.react"),{children:k.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWChatContactImpl",children:k.jsx(c("MAWChatVerifyCutover.react"),{id:p,updateThreadKey:b})})}),k.jsx(c("MWXListCellStrict.react"),{addOnStart:J,disabled:!1,headline:s,level:4,linkProps:{preventLocalNavigation:j,url:r},onHoverIn:I,onHoverOut:z,onPress:j?G:H,onPressIn:A,ref:E,selected:a,testid:void 0})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWChatContact_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"MWChatContact_profile",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"DirectInboxBroadcastBucketConnection",kind:"LinkedField",name:"story_bucket",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageThreadBucket",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[a,{alias:null,args:null,concreteType:"StoryCardSeenState",kind:"LinkedField",name:"story_card_seen_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_seen_by_viewer",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"story_bucket(first:1)"},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useUserThreadNavigationData_user"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_active_time",storageKey:null}]}],type:"User",abstractKey:null}],type:"Profile",abstractKey:"__isProfile"}}();e.exports=a}),null);
__d("MWChatContact.react",["CometRelay","MWChatContactImpl.react","MWChatContact_profile.graphql","XCometStoriesControllerRouteBuilder","react","recoverableViolation","useUserThreadNavigationData"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e,f=a.activeStatusOn,g=a.entryPoint,i=a.logsEnabled;i=i===void 0?!1:i;var k=a.openTabForUser,l=a.position,m=a.preventLocalNavigation;m=m===void 0?!0:m;var n=a.profile;a=a.selected;a=a===void 0?!1:a;n=d("CometRelay").useFragment(h!==void 0?h:h=b("MWChatContact_profile.graphql"),n);var o=n.availability,p=n.id,q=n.last_active_time,r=n.name,s=n.profile_picture,t,u="none";e=(e=n.story_bucket)==null?void 0:e.nodes;n=d("useUserThreadNavigationData").useUserThreadNavigationData(n);e=e?e[0]:null;var v=null,w=null;if(e!=null){var x;v=e.id;w=(x=e.first_story_to_show)==null?void 0:x.id;x=e==null?void 0:(x=e.first_story_to_show)==null?void 0:(e=x.story_card_seen_state)==null?void 0:e.is_seen_by_viewer;x!=null&&(u=x?"seen":"unseen");if(u!=="none"&&v!=null&&w!=null){e=c("XCometStoriesControllerRouteBuilder").buildURL({bucket_id:v,card_id:w,view_single:!1});t={prefetchQueriesOnHover:!0,url:e}}}x=s==null?void 0:s.uri;if(p==null)return c("recoverableViolation")("Chat contact list cell is missing id","comet_ui");if(r==null)return c("recoverableViolation")("Chat contact list cell is missing name","comet_ui");if(x==null)return c("recoverableViolation")("Chat contact list cell is missing profileUri","comet_ui");e=f&&o==="ACTIVE";s=f?q:void 0;return j.jsx(c("MWChatContactImpl.react"),{contactInfo:{id:p,isOnline:e,lastActiveTime:s,name:r,position:l,preloadedNavigationData:n,profilePictureUrl:x,storyInfo:{linkProps:t,storyIds:{bucketId:v,firstCardId:w},storyStatus:u}},entryPoint:g,logsEnabled:i,openTabForUser:k,preventLocalNavigation:m,selected:a})}a.displayName=a.name+" [from "+f.id+"]";e=j.memo(a);g["default"]=e}),98);
__d("CometHomeContactListItems.react",["CometContactPresenceUpdaterWithANScore.react","CometErrorBoundary.react","CometHeroInteractionContextPassthrough.react","CometHomeContactListItems_viewer.graphql","CometHomeContactsConfig","CometPlaceholder.react","CometRelay","MWChatContact.react","gkx","react","useMWChatOpenTabForUser"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useMemo;function a(a){var e=a.activeStatusOn;a.preventReordering;a=a.viewer$key;var f=d("CometRelay").useFragment(h!==void 0?h:h=b("CometHomeContactListItems_viewer.graphql"),a);a=k(function(){var a=f.chat_sidebar_contacts.filter(function(a){return a.availability==="ACTIVE"}),b=f.chat_sidebar_contacts.filter(function(a){return a.availability!=="ACTIVE"});return a.concat(b).slice(0,c("CometHomeContactsConfig").numContactsToFetch)},[f.chat_sidebar_contacts]);var g=c("useMWChatOpenTabForUser")("sidebarContactsList"),i=g.openTabForUser;g=j.jsx(c("CometHeroInteractionContextPassthrough.react"),{clear:!0,children:j.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},children:j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"CometContactListUpdater",children:j.jsx(c("CometContactPresenceUpdaterWithANScore.react"),{viewer$key:f==null?void 0:f.an_rankings})})})});return j.jsxs(j.Fragment,{children:[g,a.map(function(a,b){return j.jsx("li",{children:j.jsx("div",{children:j.jsx(c("MWChatContact.react"),{activeStatusOn:e,entryPoint:"sidebarContactsList",logsEnabled:c("gkx")("8412"),openTabForUser:i,position:b,profile:a})})},a.id)})]})}a.displayName=a.name+" [from "+f.id+"]";e=j.memo(a,function(a,b){return b.preventReordering});g["default"]=e}),98);
__d("CometHomeContactsCollapsed_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"count"}],kind:"Fragment",metadata:null,name:"CometHomeContactsCollapsed_viewer",selections:[{alias:null,args:[{kind:"Variable",name:"count",variableName:"count"}],concreteType:null,kind:"LinkedField",name:"chat_sidebar_contacts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometHomeContactsCollapsed.react",["fbt","ChevronDownFilled16IconSvg.react","CometHomeContactsCollapsed_viewer.graphql","CometRelay","FDSButton.react","FDSIcon.react","react","requireDeferred"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=c("requireDeferred")("MWChatSidebarStateSettingMutation").__setRef("CometHomeContactsCollapsed.react");function a(a){a=a.viewer$key;var e=d("CometRelay").useRelayEnvironment();a=d("CometRelay").useFragment(i!==void 0?i:i=b("CometHomeContactsCollapsed_viewer.graphql"),a);a=a.chat_sidebar_contacts.length;return k.jsx("div",babelHelpers["extends"]({className:"x1y1aw1k x1pi30zi xwib8y2 x1swvt13"},{children:k.jsx(c("FDSButton.react"),{addOnSecondary:k.jsx(c("FDSIcon.react"),{icon:c("ChevronDownFilled16IconSvg.react"),size:16}),label:h._(/*BTDS*/"__JHASH__bsz2dpcyfzz__JHASH__",[h._param("contact count",a)]),onPress:function(){l.onReadyImmediately(function(a){return a({environment:e,isCollapsed:!1})})},size:"medium",type:"secondary"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometHomeContactsHeader.react",["fbt","CometHomeChatSettings.entrypoint","Dots3HorizontalFilled20IconSvg.react","FDSEntryPointPopoverTrigger.react","FDSIcon.react","FDSTooltip.react","FDSTooltipGroup.react","FDSUnitHeader.react","MagnifyingGlassFilled16IconSvg.react","MessengerWebEventsFalcoEvent","cometGetKeyCommandConfig","react","useCometHomeOpenNewChatTab","useLayerKeyCommands"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useMemo,m=h._(/*BTDS*/"__JHASH__aqUE4f6aqXC__JHASH__"),n=h._(/*BTDS*/"__JHASH__0VczyHdqI5I__JHASH__"),o=h._(/*BTDS*/"__JHASH__sI0NH8bv2ZB__JHASH__");function a(){var a;a=(a=c("useCometHomeOpenNewChatTab")==null?void 0:c("useCometHomeOpenNewChatTab")("sidebarContactsList"))!=null?a:{};var b=a.onPress;a=babelHelpers.objectWithoutPropertiesLoose(a,["onPress"]);var e=l(function(){return[d("cometGetKeyCommandConfig").getCometKeyCommandConfig("newsfeed","searchContacts",b)]},[b]);c("useLayerKeyCommands")(e);k(function(){c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"show_sidebar_contacts"}})},[]);return j.jsx(c("FDSUnitHeader.react"),{addOn_DEPRECATED:j.jsx("div",babelHelpers["extends"]({className:"x78zum5"},{children:j.jsxs(c("FDSTooltipGroup.react"),{children:[j.jsx(c("FDSTooltip.react"),{align:"end",position:"below",tooltip:n,children:j.jsx("div",babelHelpers["extends"]({className:"xq8finb x16n37ib"},{children:j.jsx(c("FDSIcon.react"),babelHelpers["extends"]({},a,{"aria-label":n,color:"secondary",icon:c("MagnifyingGlassFilled16IconSvg.react"),onPress:function(){return b()},size:16}))}))}),j.jsx(c("FDSEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:{},otherProps:{chatSettingsContextualSection:"contacts"},popoverEntryPoint:c("CometHomeChatSettings.entrypoint"),position:"below",preloadTrigger:"button",children:function(a,b,d){return j.jsx(c("FDSTooltip.react"),{align:"end",position:"below",tooltip:o,children:j.jsx("div",babelHelpers["extends"]({className:"x16n37ib"},{children:j.jsx(c("FDSIcon.react"),{"aria-label":o,color:"secondary",icon:c("Dots3HorizontalFilled20IconSvg.react"),onPress:function(){b()},ref:a,size:20})}))})}})]})})),headline:m,headlineColor:"secondary",level:3})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometHomeContactsListItemsContainer_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"count"}],kind:"Fragment",metadata:null,name:"CometHomeContactsListItemsContainer_viewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},{args:[{kind:"Variable",name:"count",variableName:"count"}],kind:"FragmentSpread",name:"CometHomeContactListItems_viewer"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometHomeContactsListItemsContainer.react",["CometHomeContactListItems.react","CometHomeContactsListItemsContainer_viewer.graphql","CometHomeContactsPresenceAwareList.react","CometRelay","FocusWithinHandler.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useState;function a(a){a=a.viewer$key;var e=d("CometRelay").useFragment(h!==void 0?h:h=b("CometHomeContactsListItemsContainer_viewer.graphql"),a),f=(e==null?void 0:e.chat_visibility)===!0;a=k(!1);var g=a[0],i=a[1];return j.jsx("div",{onMouseEnter:function(){return i(!0)},onMouseLeave:function(){return i(!1)},children:j.jsx(c("FocusWithinHandler.react"),{children:function(a,b){return j.jsx(c("CometHomeContactsPresenceAwareList.react"),{active:f,children:j.jsx(c("CometHomeContactListItems.react"),{activeStatusOn:f,preventReordering:g||a||b,viewer$key:e})})}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometHomeContacts_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Variable",name:"count",variableName:"count"}];return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"count"}],kind:"Fragment",metadata:null,name:"CometHomeContacts_viewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_sidebar_is_collapsed",storageKey:null},{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"chat_sidebar_contacts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{args:a,kind:"FragmentSpread",name:"CometHomeContactsCollapsed_viewer"},{args:a,kind:"FragmentSpread",name:"CometHomeContactsListItemsContainer_viewer"}],type:"Viewer",abstractKey:null}}();e.exports=a}),null);
__d("CometHomeContacts.react",["BaseContextualLayerAnchorRootContext","CometHomeContactsCollapsed.react","CometHomeContactsHeader.react","CometHomeContactsListItemsContainer.react","CometHomeContacts_viewer.graphql","CometHomeRightRailUnit.react","CometRelay","CometVisualCompletionAttributes","MessengerWebEventsFalcoEvent","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useEffect,l=e.useMemo,m=e.useRef,n=h!==void 0?h:h=b("CometHomeContacts_viewer.graphql");function a(a){a=a.viewer$key;a=d("CometRelay").useFragment(n,a);var b=m(document.body),e=(a==null?void 0:a.chat_sidebar_is_collapsed)===!0;k(function(){c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"show_sidebar_contacts"}})},[]);var f=l(function(){return j.jsx(c("CometHomeContactsHeader.react"),{})},[]);return j.jsx("div",babelHelpers["extends"]({"data-testid":void 0},c("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{children:j.jsx(c("BaseContextualLayerAnchorRootContext").Provider,{value:b,children:((b=a.chat_sidebar_contacts)==null?void 0:b.length)>0?j.jsx(c("CometHomeRightRailUnit.react"),{hasBottomDivider:!e,header:f,children:e?j.jsx(c("CometHomeContactsCollapsed.react"),{viewer$key:a}):j.jsx(c("CometHomeContactsListItemsContainer.react"),{viewer$key:a})}):null})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"numContactsToFetch"}],kind:"Fragment",metadata:null,name:"CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"numContactsToFetch"}],kind:"FragmentSpread",name:"CometHomeContacts_viewer"}],storageKey:null},action:"THROW",path:"viewer"}],type:"XFBContactsHomeDefaultRenderer",abstractKey:null};e.exports=a}),null);
__d("CometHomeContactsDefaultRenderer.react",["CometHomeContacts.react","CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer.graphql","CometRelay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){a=a.contactsHomeDefaultRenderer;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer.graphql"),a);a=a.viewer;return j.jsx(c("CometHomeContacts.react"),{viewer$key:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{kind:"SplitOperation",metadata:{},name:"CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer$normalization",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_sidebar_is_collapsed",storageKey:null},{alias:null,args:[{kind:"Variable",name:"count",variableName:"numContactsToFetch"}],concreteType:null,kind:"LinkedField",name:"chat_sidebar_contacts",plural:!0,selections:[a,b,{kind:"TypeDiscriminator",abstractKey:"__isProfile"},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"DirectInboxBroadcastBucketConnection",kind:"LinkedField",name:"story_bucket",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageThreadBucket",kind:"LinkedField",name:"nodes",plural:!0,selections:[b,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[b,{alias:null,args:null,concreteType:"StoryCardSeenState",kind:"LinkedField",name:"story_card_seen_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_seen_by_viewer",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"story_bucket(first:1)"},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_secure_thread",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_capabilities2_str",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_od_cutover_eligible",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_active_time",storageKey:null}]}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},{"if":null,kind:"Defer",label:"CometHomeContactListItems_viewer$defer$CometContactPresenceUpdaterWithANScore_viewer",selections:[{alias:null,args:[{kind:"Literal",name:"mnet_rank_type",value:["INBOX_ACTIVE_NOW"]}],concreteType:"MNetRankConnection",kind:"LinkedField",name:"mnet_ranks",plural:!1,selections:[{alias:null,args:null,concreteType:"MNetRankEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"MNetRank",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"MNetItemConnection",kind:"LinkedField",name:"items",plural:!1,selections:[{alias:null,args:null,concreteType:"MNetItemEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"rank_score",storageKey:null}],type:"MNetContactItem",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'mnet_ranks(mnet_rank_type:["INBOX_ACTIVE_NOW"])'}]}],storageKey:null}]}}();e.exports=a}),null);
__d("MWChatSidebarStateSettingMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5374077802611124"}),null);
__d("MWChatSidebarStateSettingMutation.graphql",["MWChatSidebarStateSettingMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"ChatSidebarIsCollapsedResponsePayload",kind:"LinkedField",name:"chat_sidebar_is_collapsed",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_sidebar_is_collapsed",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatSidebarStateSettingMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatSidebarStateSettingMutation",selections:c},params:{id:b("MWChatSidebarStateSettingMutation_facebookRelayOperation"),metadata:{},name:"MWChatSidebarStateSettingMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("MWChatSidebarStateSettingMutation",["CometRelay","MWChatSidebarStateSettingMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("MWChatSidebarStateSettingMutation.graphql");function a(a){var b=a.environment,c=a.isCollapsed,e=a.onCompleted;a=a.onError;d("CometRelay").commitMutation(b,{mutation:i,onCompleted:e,onError:a,variables:{input:{is_collapsed:c}}})}g["default"]=a}),98);